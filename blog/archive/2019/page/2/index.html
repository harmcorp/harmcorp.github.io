
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://harmcorp.github.io/blog/archive/2019/page/2/">
      
      
        <link rel="prev" href="../../../2025/">
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>2019 - HARM CORP</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.d7758b05.min.css">
      
      


  
  
    
    
      
    
    
  
  
  <style>.md-tag.md-tag--rabbitmq{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.035 9.601h-7.677a.956.956 0 0 1-.962-.962V.962a.956.956 0 0 0-.962-.956H10.56a.956.956 0 0 0-.962.956V8.64a.956.956 0 0 1-.962.962H5.762a.956.956 0 0 1-.961-.962V.962A.956.956 0 0 0 3.839 0H.959a.956.956 0 0 0-.956.962v22.076A.956.956 0 0 0 .965 24h22.07a.956.956 0 0 0 .962-.962V10.58a.956.956 0 0 0-.962-.98zm-3.86 8.152a1.437 1.437 0 0 1-1.437 1.443h-1.924a1.437 1.437 0 0 1-1.436-1.443v-1.917a1.437 1.437 0 0 1 1.436-1.443h1.924a1.437 1.437 0 0 1 1.437 1.443z"/></svg>');}</style>

    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2019" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="HARM CORP" class="md-header__button md-logo" aria-label="HARM CORP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HARM CORP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2019
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="HARM CORP" class="md-nav__button md-logo" aria-label="HARM CORP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HARM CORP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    this is blog index!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2019
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../category/holidays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Holidays
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2019">2019</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-11-19 00:00:00+00:00">November 19, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="was-datasource-jndi"><a class="toclink" href="../../../../2019/11/19/java-jdbc-%EC%99%80-jndi/">WAS 에 Datasource 를 설정하는 이유 (JNDI)</a></h2>
<p><a href="https://soul0.tistory.com/286">출처</a></p>
<ul>
<li>WAS:App = 1:N 인 경우가 많기 때문에, 각 App 마다 DB pool 을 갖고 있게 되면 관리가 어렵고, 자원을 낭비하게됨.</li>
<li>Datasource 의 Load balancing 기능이 WAS 에 구현되어 있음. (failover)</li>
</ul>
<h2 id="common-dbcp"><a class="toclink" href="../../../../2019/11/19/java-jdbc-%EC%99%80-jndi/#common-dbcp">Common DBCP</a></h2>
<p><a href="https://d2.naver.com/helloworld/5102792">출처</a></p>
<p>오픈소스 라이브러리로 Apache의 Commons DBCP와 Tomcat-JDBC, BoneCP, HikariCP</p>
<blockquote>
<p><a href="https://issues.apache.org/jira/browse/DBCP-330">DBCP 1.4.1의 메모리 누수 버그</a></p>
</blockquote>
<p>커넥션 생성은 Commons DBCP에서 이루어진다. Commons DBCP는 PoolableConnection 타입의 커넥션을 생성하고 생성한 커넥션에 ConnectionEventListener를 등록한다. ConnectionEventListener에는 애플리케이션이 사용한 커넥션을 풀로 반환하기 위해 JDBC 드라이버가 호출할 수 있는 콜백 메서드가 있다. 이렇게 생성된 커넥션은 commons-pool의 addObject() 메서드로 커넥션 풀에 추가된다. 이때 commons-pool은 내부적으로 현재 시간을 담고 있는 타임스탬프와 추가된 커넥션의 레퍼런스를 한 쌍으로 하는 ObjectTimestampPair라는 자료구조를 생성한다. 그리고 이들을 LIFO(last in first out) 형태의 CursorableLinkedList로 관리한다.</p>
<blockquote>
<p>BasicDataSource 클래스의 커넥션 개수 지정 속성</p>
</blockquote>
<table class="pure-table">
<thead>
  <tr>
    <th>속성</th>
    <th>설명</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>initialSize</td>
    <td>BasicDataSource 클래스 생성 후 최초로 getConnection() 메서드를 호출할 때 커넥션 풀에 채워 넣을 커넥션 개수</td>
  </tr>
  <tr>
    <td>maxActive</td>
    <td>동시에 사용할 수 있는 최대 커넥션 개수(기본값: 8)</td>
  </tr>
  <tr>
    <td>maxIdle</td>
    <td>커넥션 풀에 반납할 때 최대로 유지될 수 있는 커넥션 개수(기본값: 8)</td>
  </tr>
  <tr>
    <td>minIdle</td>
    <td>최소한으로 유지할 커넥션 개수(기본값: 0)</td>
  </tr>
</tbody>
</table>

<p>maxActive 값과 maxIdle 값이 같은 것이 바람직하다. maxActive = 10이고 maxIdle = 5라고 가정해 보자. 항상 커넥션을 동시에 5개는 사용하고 있는 상황에서 1개의 커넥션이 추가로 요청된다면 maxActive = 10이므로 1개의 추가 커넥션을 데이터베이스에 연결한 후 풀은 비즈니스 로직으로 커넥션을 전달한다. 이후 비즈니스 로직이 커넥션을 사용 후 풀에 반납할 경우, maxIdle=5에 영향을 받아 커넥션을 실제로 닫아버리므로, 일부 커넥션을 매번 생성했다 닫는 비용이 발생할 수 있다.</p>
<p>Commons DBCP에서는 DBMS에 로그인을 시도하고 있는 커넥션도 사용 중인 것으로 간주한다.</p>
<p>아래와 같은 가정을 했을 때,
- 1개의 요청이 처리되는데 10개의 쿼리가 돌아야한다.
- 1개의 쿼리는 50ms 가 걸린다
- maxActive = 5
해당 시스템의 TPS 는 5Request/10Query*50ms = 10TPS 이다.</p>
<p>적정한 maxActive 값을 구하기 위해선 Commons DBCP 외에 Tomcat의 동작 방식도 고려해야한다. Tomcat 도 내부적으로 요청을 처리하는 스레드풀을 갖고 있기 때문이다. Tomcat에서 사용자의 연결을 처리하는 최대의 스레드 개수는 server.xml 파일에서 maxThread 속성으로 지정한다.</p>
<p>모자란 커넥션 때문에 Tomcat 의 스레드가 대기하고 maxWait 의 시간 만큼 대기 후 커넥션을 얻어와 처리 했다 하더라도,  maxWait 시간이 길다면 사용자가 이미 떠났을 가능성이 높다. 사용자가 인내할 수 있는 시간을 넘어서는 maxWait 값은 아무런 의미가 없다.</p>
<p>만약 갑작스럽게 사용자가 증가해 maxWait 값 안에 커넥션을 얻지 못하는 빈도가 늘어난다면 maxWait 값을 더 줄여서 시스템에서 사용하는 스레드가 한도에 도달하지 않도록 방어할 수 있다. 전체 시스템 장해는 피하고 '간헐적 오류'가 발생하는 정도로 장애의 영향을 줄이는 것이다. 이런 상황이 자주 있다면 Commons DBCP의 maxActive 값과 Tomcat의 maxThread 값을 동시에 늘이는 것을 고려한다. 그러나 시스템 자원의 한도를 많이 넘는 요청이 있다면 설정을 어떻게 변해도 장애를 피할 수 없다. 애플리케이션 서버의 자원이 설정 변경을 수용할 만큼 충분하지 않다면 시스템을 확충해야 할 것이다.</p>
<p>검증에 지나치게 자원을 소모하지 않게 testOnBorrow 옵션과 testOnReturn 옵션은 false로 설정하고, 오랫동안 대기 상태였던 커넥션이 끊어지는 현상을 막게 testWhileIdle 옵션은 true로 설정하는 것을 추천한다.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-11-19 00:00:00+00:00">November 19, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="thread-dump"><a class="toclink" href="../../../../2019/11/19/java-thread-dump/">Thread dump 란?</a></h2>
<blockquote>
<p>Java에서는 Monitor를 이용해 스레드를 동기화한다. 모든 Java 객체는 하나의 Monitor를 가지고 있다. 그리고 Monitor는 하나의 스레드만 소유할 수 있다. 어떠한 스레드가 소유한 Monitor를 다른 스레드가 획득하려면 해당 Monitor를 소유하고 있는 스레드가 Monitor를 해제할 때까지 Wait Queue에서 대기하고 있어야 한다.</p>
<p>Java 스레드는 데몬 스레드(Daemon Thread)와 비데몬 스레드(Non-daemon Thread)로 나눌 수 있다. 데몬 스레드는 다른 비데몬 스레드가 없으면 동작을 중지한다. 예를 들면, main 함수가 실행되는 스레드는 비데몬 스레드로 해당 스레드가 중지 하게 되면 가비지 컬렉션이나, JMX 등의 작업을 처리하는 데몬 스레드들도 동작을 중지한다. main 함수가 실행되는 스레드를 HotSpot VM에서는 VM Thread라고 부른다.</p>
<p>java.lang.Thread 클래스를 이용해 스레드를 생성하면 Thread-(Number) 형식으로 스레드 이름이 생성된다. java.util.concurrent.ThreadFactory 클래스를 이용했으면 pool-(number)-thread-(number) 형식으로 스레드 이름이 생성된다.</p>
</blockquote>
<h2 id="_1"><a class="toclink" href="../../../../2019/11/19/java-thread-dump/#_1">덤프 받기</a></h2>
<ul>
<li>jstack 사용</li>
</ul>
<pre><code class="language-shell">jstack &lt;PID&gt;
</code></pre>
<ul>
<li>jcmd 사용</li>
</ul>
<pre><code class="language-shell">jcmd &lt;PID&gt; Thread.print
</code></pre>
<ul>
<li>kill signal 주기</li>
</ul>
<pre><code>kill -3 &lt;PID&gt;
</code></pre>
<ul>
<li>VisualVM 사용
<code>jvisualvm.exe</code> 실행, 덤프 버튼 사용.</li>
</ul>
<h2 id="_2"><a class="toclink" href="../../../../2019/11/19/java-thread-dump/#_2">덤프 분석하기</a></h2>
<p><a href="https://gceasy.io/">Universal GC Log Analyzer</a> 간단하게 덤프를 업로드함으로써 분석정보를 볼 수 있음.</p>
<p>출처
- <a href="https://d2.naver.com/helloworld/10963">스레드 덤프 분석하기</a>
- <a href="https://yenaworldblog.wordpress.com/2018/05/09/thread-dump-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%B6%84%EC%84%9D-%EB%B0%A9%EB%B2%95/">THREAD DUMP, HEAP DUMP 생성 및 분석 방법</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-11-18 00:00:00+00:00">November 18, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="rest-api"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/">REST API 설계 시 참고</a></h2>
<p><a href="https://meetup.toast.com/posts/92">출처</a></p>
<h3 id="restrepresentational-state-transfer-3"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#restrepresentational-state-transfer-3">REST(Representational State Transfer) 의 3요소</a></h3>
<ul>
<li>자원(RESOURCE) - URI</li>
<li>행위(Verb) - HTTP METHOD</li>
<li>표현(Representations)</li>
</ul>
<h3 id="rest"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#rest">REST 의 특징</a></h3>
<ul>
<li>
<p>Uniform Interface</p>
<blockquote>
<p>Uniform Interface는 URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍처 스타일을 말합니다</p>
</blockquote>
</li>
<li>
<p>Stateless (무상태성)</p>
</li>
<li>Cacheable (캐시 가능)</li>
<li>
<p>Self-descriptiveness (자체 표현 구조)</p>
<blockquote>
<p>API 메세지만 보고도 직관적으로 알 수 있는 구조</p>
</blockquote>
</li>
<li>
<p>Client - Server 구조</p>
</li>
<li>계층형 구조</li>
</ul>
<h3 id="rest-design"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#rest-design">REST Design 가이드</a></h3>
<h5 id="_1"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#_1">설계시 주의점.</a></h5>
<p>URI 에 행위에 대한 표현이 들어가면 안된다. 행위는 HTTP METHOD 로 표현하자.</p>
<pre><code>GET /user/1/delete (x)
DELETE /user/1     (o)
</code></pre>
<blockquote>
<ul>
<li>POST : 자원 생성(C)</li>
<li>GET : 자원 조회(R)</li>
<li>PUT : 자원 수정(U)</li>
<li>DELETE : 자원 삭제(D)</li>
</ul>
</blockquote>
<ul>
<li><code>/</code> 는 계층관계를 나타내는데 사용하자.</li>
<li>URI 의 마지막에는 <code>/</code> 를 사용하지 말자.</li>
<li><code>_</code> 는 헷갈리니까 <code>-</code> 를 사용하자</li>
<li>URI 에는 소문자만 사용하자</li>
<li>파일확장자는 URI 에 넣지 말자</li>
</ul>
<h5 id="_2"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#_2">자원간 관계 표현</a></h5>
<p>user 1 이 가진 모든 device 들</p>
<pre><code>GET /user/1/devices
GET /user/1/has/devices
</code></pre>
<p>관계가 복잡하다면 명시적 표현 하자</p>
<p>user 1 이 좋아하는 모든 device 들</p>
<pre><code>GET /user/1/like/devices
</code></pre>
<h5 id="document-collection"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#document-collection">Document 와 Collection 구분</a></h5>
<p>단/복수로 Document 와 Collection 을 구분한다.</p>
<blockquote>
<p>단/복수를 사용할 경우 가시성이 떨어질 수도 있는데 음. 아무튼 그렇다고 한다.</p>
</blockquote>
<p>player 들 중 id 가  1 인 player 가 갖고 있는 skill 들 중 id 가 1003 인 skill</p>
<pre><code>/GET /players/1/skills/1003
</code></pre>
<h5 id="http"><a class="toclink" href="../../../../2019/11/18/rest-api-%EC%84%A4%EA%B3%84-%EC%8B%9C-%EC%B0%B8%EA%B3%A0/#http">의미 있는 HTTP 응답 코드를 사용하자.</a></h5>
<p>자원 생성이 성공한건지, 조회 요청이 성공한건지 명시적으로 HTTP 응답코드를 사용하여 표현하자.</p>
<p>끝.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-11-01 00:00:00+00:00">November 1, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="_1"><a class="toclink" href="../../../../2019/11/01/%ED%8A%B8%EB%9E%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EC%8B%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EB%B6%88%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9-%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9%EC%97%90-%EB%8C%80%ED%95%B4/">트랜스 지방, 시스 지방, 불포화 지방, 포화 지방에 대해</a></h2>
<p>매번 헷갈려서 세번째 검색해서 <a href="https://namu.wiki/w/트랜스%20지방#toc">나무위키</a>보다가 결국 정리한다.</p>
<blockquote>
<p>자꾸 까먹으니까!!!</p>
</blockquote>
<p>일단 포화 지방과 불포화 지방으로 나누어진다.</p>
<p>포화 지방은 주로 동물성 식품에서 나오고 (예외, 생선 기름), 불포화 지방은 주로 식물성 식품에서 나온다. (예외, 야자유 팜유)</p>
<h4 id="_2"><a class="toclink" href="../../../../2019/11/01/%ED%8A%B8%EB%9E%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EC%8B%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EB%B6%88%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9-%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9%EC%97%90-%EB%8C%80%ED%95%B4/#_2">탄화수소 사슬에 단일결합만 존재하면 포화지방산.</a></h4>
<p>지방은 원래 3개의 지방산(fatty acid)이 1개의 글리세롤에 결합되어 있는 구조인데, 지방산을 이루는 탄화수소 사슬에서 <code>단일결합</code> 만 존재하면 <code>포화지방산</code>, <code>이중결합</code> 이나 <code>삼중결합</code> (드물다고함) 이 존재하면 <code>불포화 지방산</code>이라고 한다.</p>
<h4 id="_3"><a class="toclink" href="../../../../2019/11/01/%ED%8A%B8%EB%9E%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EC%8B%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EB%B6%88%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9-%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9%EC%97%90-%EB%8C%80%ED%95%B4/#_3">불포화지방산 분자식이 불안정하니까 녹는점이 낮고, 그러니까 상온에서 액체.</a></h4>
<p>그런데 위의 분자식을 보게되면, 불포화지방산(unsaturated fat)의 경우, 구조가 꺽여있기 때문에 좀 더 불안정하고 그렇기 때문에 녹는점이 낮다. 이 말은, 상온에서 불포화 지방산은 주로 액체의 형태라는 뜻.</p>
<h4 id="_4"><a class="toclink" href="../../../../2019/11/01/%ED%8A%B8%EB%9E%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EC%8B%9C%EC%8A%A4-%EC%A7%80%EB%B0%A9-%EB%B6%88%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9-%ED%8F%AC%ED%99%94-%EC%A7%80%EB%B0%A9%EC%97%90-%EB%8C%80%ED%95%B4/#_4">산패방지와 맛을 위한 공정이 트랜스 지방을 만들다.</a></h4>
<p><img alt="fats" src="{{ site.post-images-location }}2019-11-01-unsaturated-fat.jfif" /></p>
<p>불포화 지방산은 포화지방산에 비해 안정적이지못한 구조로 산패가 쉽게 일어나고, 끓는 점이 높은 포화지방산을 이용한 요리를 위해 불포화 지방산을 포화 지방산으로 바꾸기 위한 공정이 필요로 되었다.</p>
<p>수소를 첨가하여 불포화 지방산을 포화 지방산으로 만드는 공정이 고안되었는데, 그런 결과물들이 쇼트닝과 마가린들..</p>
<p>그런데 이런 과정에서 모든 이중/삼중 결합이 단일 결합으로 바뀌지 않고, 시스 이성질체가 트랜스 이성질체로 변하는 현상이 생겼다. 여기서 트랜스 이성질체가 트랜스 지방산.</p>
<p>분자식을 보게 되면 이중/삼중결합된 탄소분자에 붙어있는 수소분자가 같은쪽에 있게 되면 시스, 아니면 트랜스라고 구분하면 된다.</p>
<p>문제는 자연상태에서 트랜스 지방산이 드물기 때문에 인간의 대사과정에서 분해하기 힘들어지는것. 그냥 쌓이기만하고 배출이 안된다.</p>
<p>요즘은 가공기술이 발달해 불포화 지방산을 포화 지방산으로 바꾸는 과정에서 트랜스 지방산이 거이 나오지 않는다고 하지만. 아무튼 안좋은 것.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-22 00:00:00+00:00">October 22, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="notepad"><a class="toclink" href="../../../../2019/10/22/notepad-%ED%85%8C%EB%A7%88-%EC%A0%81%EC%9A%A9/">Notepad++ 테마 적용</a></h2>
<ol>
<li><code>notepad++</code> 가 깔린 곳에 <code>themes</code> 폴더를 만든다.</li>
<li><code>notepad++ theme</code> 를 구글링하여 <code>theme xml file</code> 을 다운 받는다.</li>
<li>1 에서 만든 폴더에 다운받은 파일을 넣는다.</li>
<li>Notepad++ &gt; Settings &gt; Style Configurator 에서 다운받은 테마가 선택.</li>
</ol>
<p>혹시 다운받은 테마가 보이지 않으면 Notepad++ 를 껏다 킨다.</p>
<blockquote>
<p>그래도 안되면 경로가 안맞거나 그런거겠지뭐..</p>
</blockquote>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-18 00:00:00+00:00">October 18, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="oauth20-flow"><a class="toclink" href="../../../../2019/10/18/facebook-api-%EC%82%AC%EC%9A%A9%EB%B2%95/">OAuth2.0 Flow 를 따르면 되는거 아닌가?</a></h2>
<p>이유는 모르겠지만, 언젠가서부터 페이스북에서 <code>user-access-token</code> 과 <code>page-access-token</code> 을 나누었다.
<code>OAuth2.0 Flow</code> 를 마치면 <code>user-access-token</code> 을 받게 되는데 그걸로 <code>page-access-token</code> 을 발급 받으면 된다.</p>
<h2 id="how-to-get-page-access-token-via-user-access-token"><a class="toclink" href="../../../../2019/10/18/facebook-api-%EC%82%AC%EC%9A%A9%EB%B2%95/#how-to-get-page-access-token-via-user-access-token">How to get page-access-token via user-access-token</a></h2>
<pre><code class="language-shell">curl -X GET &quot;https://graph.facebook.com/{your-page-id}?fields=access_token={your-user-access-token}&quot;
</code></pre>
<h2 id="reading-your-page-information"><a class="toclink" href="../../../../2019/10/18/facebook-api-%EC%82%AC%EC%9A%A9%EB%B2%95/#reading-your-page-information">Reading Your Page Information</a></h2>
<pre><code class="language-shell">curl -F 'method=get' \
     -F 'fields=about,attire,bio,location,parking,hours,emails,website' \
         -F 'access_token={your-page-access-token}' \
        https://graph.facebook.com/{your-page-id}
</code></pre>
<h2 id="getting-page-posts"><a class="toclink" href="../../../../2019/10/18/facebook-api-%EC%82%AC%EC%9A%A9%EB%B2%95/#getting-page-posts">Getting Page Posts</a></h2>
<pre><code class="language-shell">curl -i -X GET \
 &quot;https://graph.facebook.com/{your-page-id}/feed?access_token={your-page-access-token}&quot;
</code></pre>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-18 00:00:00+00:00">October 18, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="linux-json-parser-jq"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/">linux json parser, jq 사용</a></h2>
<p>업무상 <code>Access token</code> 을 확인할 일이 생겨서 <code>curl</code> 로 응답을 보다보니 <code>json</code> 응답이 가독 성이 떨어져서 <code>parser</code> 를 찾게 되었다.</p>
<blockquote>
<p>복붙에 가까운 포스팅이 의미가 있는걸까? 기록이랍시고 남기긴하는데...</p>
</blockquote>
<p><code>jq</code> 는 c 언어로 작성되었다고 한다. 설치하는 방법은 두가지가 있다.</p>
<h4 id="1"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#1">1. 귀찮으니 패키지 매니져로</a></h4>
<pre><code class="language-shell">#install
$ yum install jq
#install check
$ jq --version
jq-1.5
</code></pre>
<h4 id="2"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#2">2. 원하는 배포판 다운로드/설치</a></h4>
<pre><code class="language-shell">#download (32-bit system)
$ wget http://stedolan.github.io/jq/download/linux32/jq
#download (64-bit system)
$ wget http://stedolan.github.io/jq/download/linux64/jq

# 권한
$ sudo chmod +x ./jq

# 실행을 위해 이동
$ sudo cp jq /usr/bin

#install check
$ jq --version
jq-1.5
</code></pre>
<p><a href="https://stedolan.github.io/jq/manual/">공식홈페이지의 사용법</a></p>
<h4 id="options"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#options">options</a></h4>
<h5 id="-raw-output-r"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#-raw-output-r"><code>--raw-output / -r</code></a></h5>
<p>결과를 파싱하지않고 string 형태로 내보낸다. jq 결과값을 인자로 뭔가할때 유용하다.</p>
<h4 id="file-jsondata"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#file-jsondata">file : jsondata : 예제를 위한 데이터</a></h4>
<pre><code class="language-shell">cat &lt;&lt; EOL &gt; test.json
{
  &quot;data&quot;: {
    &quot;app_id&quot;: &quot;123&quot;,
    &quot;type&quot;: &quot;USER&quot;,
    &quot;application&quot;: &quot;ddd&quot;,
    &quot;data_access_expires_at&quot;: 1578986473,
    &quot;expires_at&quot;: 0,
    &quot;is_valid&quot;: true,
    &quot;issued_at&quot;: 567,
    &quot;scopes&quot;: [
      &quot;email&quot;,
      &quot;pages_show_list&quot;,
      &quot;public_profile&quot;
    ],
    &quot;granular_scopes&quot;: [
      {
        &quot;scope&quot;: &quot;pages_show_list&quot;
      }
    ],
    &quot;user_id&quot;: &quot;873&quot;,
    &quot;user_id&gt;&quot; : &quot;873&gt;&quot;,
    &quot;types&quot; : [
      { &quot;id&quot;: &quot;user123&quot;, &quot;name&quot;: &quot;USER&quot;},
      { &quot;id&quot;: &quot;admin098&quot;, &quot;name&quot;: &quot;ADMIN&quot;},
      { &quot;id&quot;: &quot;guest567&quot;, &quot;name&quot;: &quot;GUEST&quot;}
    ]
  }
}
EOL
</code></pre>
<h4 id="identity"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#identity">Identity <code>.</code></a></h4>
<p>input 을 바꾸지않고 output 으로 생산한다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.'
{
  &quot;data&quot;: {
    &quot;app_id&quot;: &quot;123&quot;,
    &quot;type&quot;: &quot;USER&quot;,
    &quot;application&quot;: &quot;ddd&quot;,
    &quot;data_access_expires_at&quot;: 1578986473,
    &quot;expires_at&quot;: 0,
    &quot;is_valid&quot;: true,
    &quot;issued_at&quot;: 567,
    &quot;scopes&quot;: [
      &quot;email&quot;,
      &quot;pages_show_list&quot;,
      &quot;public_profile&quot;
    ],
    &quot;granular_scopes&quot;: [
      {
        &quot;scope&quot;: &quot;pages_show_list&quot;
      }
    ],
    &quot;user_id&quot;: &quot;873&quot;,
    &quot;user_id&gt;&quot;: &quot;873&gt;&quot;,
    &quot;types&quot;: [
      {
        &quot;id&quot;: &quot;user123&quot;,
        &quot;name&quot;: &quot;USER&quot;
      },
      {
        &quot;id&quot;: &quot;admin098&quot;,
        &quot;name&quot;: &quot;ADMIN&quot;
      },
      {
        &quot;id&quot;: &quot;guest567&quot;,
        &quot;name&quot;: &quot;GUEST&quot;
      }
    ]
  }
}
</code></pre>
<p>파싱되어 보기 편하게 된다.</p>
<p>여러 필터가 있는데, 간단하게 사용법만 알아봐야겠다. 공식문서를 보니 생각보다 장황하구만.</p>
<h4 id="object-identifier-index-foo-foobar"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#object-identifier-index-foo-foobar">Object Identifier-Index: <code>.foo</code>, <code>.foo.bar</code></a></h4>
<pre><code class="language-shell">$ cat jsondata | jq '.data.user_id'
&quot;873&quot;
</code></pre>
<h4 id="generic-object-index-string"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#generic-object-index-string">Generic Object Index: <code>.[&lt;string&gt;]</code></a></h4>
<p>키값에 특수문자가 존재할 때는 <code>.somekey.someotherkey&gt;</code> 로 뽑을 수 없다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data[&quot;user_id&gt;&quot;]'
&quot;873&gt;&quot;
</code></pre>
<h4 id="pipe"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#pipe">Pipe: <code>|</code></a></h4>
<p>내부 파이프라인 <code>|</code> 도 지원한다</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data | .user_id'
&quot;873&quot;

$ cat jsondata | jq '.data' | jq '.user_id'
&quot;873&quot;
</code></pre>
<h4 id="arrayobject-value-iterator"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#arrayobject-value-iterator">Array/Object Value Iterator: <code>.[]</code></a></h4>
<p>배열을 벗기고, 배열 값만큼 출력을 생성한다.</p>
<p>아래에 각각 보이는 배열값들 하나의 출력값처럼 보이지만 각각의 출력을 jq 가 만든 것이다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.scopes[]'
&quot;email&quot;
&quot;pages_show_list&quot;
&quot;public_profile&quot;

$ cat jsondata | jq '.data.types'
[
  {
    &quot;id&quot;: &quot;user123&quot;,
    &quot;name&quot;: &quot;USER&quot;
  },
  {
    &quot;id&quot;: &quot;admin098&quot;,
    &quot;name&quot;: &quot;ADMIN&quot;
  },
  {
    &quot;id&quot;: &quot;guest567&quot;,
    &quot;name&quot;: &quot;GUEST&quot;
  }
]
</code></pre>
<p>각각 출력인 것을 배열로 싸면 각각 출력인 것을 확인할 수도 있다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.scopes[]' | jq '[.]'
[
  &quot;email&quot;
]
[
  &quot;pages_show_list&quot;
]
[
  &quot;public_profile&quot;
]
</code></pre>
<p>각각의 출력값에서 각각 필터를 적용해서 데이터를 뽑을 수도 있다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.types[].id'
&quot;user123&quot;
&quot;admin098&quot;
&quot;guest567&quot;
</code></pre>
<p>뽑은 데이터를 다시 배열로 합칠 수도있다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '[.data.types[].id]'
[
  &quot;user123&quot;,
  &quot;admin098&quot;,
  &quot;guest567&quot;
]
</code></pre>
<p>합쳐진 배열은 인덱스로 접근가능하다</p>
<pre><code class="language-shell">$ cat jsondata | jq '[.data.types[].id][0]'
&quot;user123&quot;
</code></pre>
<p><code>length</code> 라는 함수도 지원한다</p>
<pre><code class="language-shell">$ cat jsondata | jq '[.data.types[].id][0] | length'
7
$ cat jsondata | jq '[.data.types[].id] | length'
3
</code></pre>
<h4 id="comma"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#comma">Comma: <code>,</code></a></h4>
<p><code>,</code> 를 사용하면 <code>,</code> 로 나누어진 필터들로 만든 결과들만큼 출력을 만든다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.scopes'
[
  &quot;email&quot;,
  &quot;pages_show_list&quot;,
  &quot;public_profile&quot;
]

$ cat jsondata | jq '.data.scopes' | jq '.[0], .[1], .[2], .[]'
&quot;email&quot;
&quot;pages_show_list&quot;
&quot;public_profile&quot;
&quot;email&quot;
&quot;pages_show_list&quot;
&quot;public_profile&quot;
</code></pre>
<p>파이프라인으로 배열로 감싸보면 알기 쉽다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.scopes' | jq '.[0], .[1], .[2], .[]' | jq '[.]'
[
  &quot;email&quot;
]
[
  &quot;pages_show_list&quot;
]
[
  &quot;public_profile&quot;
]
[
  &quot;email&quot;
]
[
  &quot;pages_show_list&quot;
]
[
  &quot;public_profile&quot;
]
</code></pre>
<p>나누어진 결과를 배열로 합칠 수도 있다.</p>
<pre><code class="language-shell">$ cat jsondata | jq '.data.scopes' | jq '[.[0], .[1], .[2], .[]]'
[
  &quot;email&quot;,
  &quot;pages_show_list&quot;,
  &quot;public_profile&quot;,
  &quot;email&quot;,
  &quot;pages_show_list&quot;,
  &quot;public_profile&quot;
]
</code></pre>
<p>이것외에도 filter 로 나온 값을 변경한다던지, 값을 체크한다는 기능들이 많은데 공식문서가 잘 나와있다.</p>
<h4 id="select"><a class="toclink" href="../../../../2019/10/18/linux-json-parser-jq-%EC%82%AC%EC%9A%A9/#select">select</a></h4>
<p>이 함수는 aws cli 를 사용하면서 알게 되었는데, tag 의 key, value 가 특정 값인 id 를 뽑을 때 사용했다.</p>
<pre><code class="language-shell">$ jq '.Reservations[].Instances[] | select(.Tags[]?.Key == &quot;Name&quot; and .Tags[]?.Value == &quot;ec2-docker-postgresql&quot;) | .InstanceId'
$ jq '.[] | select(.name ==&quot;search-my-name&quot;)'
$ cat test.json | jq '.data.types[] | select (.name == &quot;GUEST&quot;)'
$ jq '.[] | select(.bucket_name == &quot;my-bucket&quot;) | .object_info.Key | select(.[length-3:] != &quot;png&quot;)'
</code></pre>
<p>출처
- <a href="https://stedolan.github.io/jq/manual/">jq Manual (development version)</a>
- <a href="https://www.44bits.io/ko/post/cli_json_processor_jq_basic_syntax">커맨드라인 JSON 프로세서 jq</a>
- <a href="https://jqplay.org/?q=.%5B%5D+%7C+select%28.id+%3D%3D+%22second%22%29&amp;j=%5B%7B%22id%22%3A+%22first%22%2C+%22val%22%3A+1%7D%2C+%7B%22id%22%3A+%22second%22%2C+%22val%22%3A+2%7D%5D">jq play</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-16 00:00:00+00:00">October 16, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="tomcat-ssl-2"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/">TOMCAT 에 SSL 적용2</a></h2>
<p>분명 <a href="{{ site.url }}/apply-tls-to-tomcat-custom-openssl-certification/">이때</a> 적용된걸 확인했는데, 다시 만드니 뭔가 안되서 다시 정리한다.</p>
<p><a href="https://www.lesstif.com/pages/viewpage.action?pageId=6979614#">여기</a>를 참고 했다. 순서도 좀 다르고.. 암튼.. 따라해본다.</p>
<h4 id="root-ca-certificate-authority"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#root-ca-certificate-authority">Root CA (Certificate Authority) 만들기</a></h4>
<pre><code class="language-shell">genrsa -aes256 -out &lt;ROOT CA PRIVATE KEY FILE LOCATION&gt; 2048
#example
genrsa -aes256 -out ./certs/herdin-rootca.key 2048
</code></pre>
<h4 id="root-csr-certificate-signing-request"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#root-csr-certificate-signing-request">Root CSR (Certificate Signing Request) 만들기</a></h4>
<p>사용될 설정파일 내용</p>
<pre><code>[ req ]
default_bits            = 2048
default_md              = sha1
default_keyfile         = herdin-rootca.key
distinguished_name      = req_distinguished_name
extensions             = v3_ca
req_extensions = v3_ca

[ v3_ca ]
basicConstraints       = critical, CA:TRUE, pathlen:0
subjectKeyIdentifier   = hash
##authorityKeyIdentifier = keyid:always, issuer:always
keyUsage               = keyCertSign, cRLSign
nsCertType             = sslCA, emailCA, objCA
[req_distinguished_name ]
countryName                     = Country Name (2 letter code)
countryName_default             = KR
countryName_min                 = 2
countryName_max                 = 2

# 회사명 입력
organizationName              = Organization Name (eg, company)
organizationName_default      = HARM

# 부서 입력
#organizationalUnitName          = Organizational Unit Name (eg, section)
#organizationalUnitName_default  = harm

# SSL 서비스할 domain 명 입력
commonName                      = Common Name (eg, your name or your server's hostname)
commonName_default             = herdin's Self Signed CA
commonName_max                  = 64
</code></pre>
<p>위의 설정파일을 저장하고 CSR 만들 때 사용한다.</p>
<pre><code class="language-shell">req -new -key &lt;ROOT CA PRIVATE KEY FILE LOCATION&gt; -out &lt;ROOT CSR FILE LOCATIOIN&gt; -config &lt;CONFIG FILE LOCATION&gt;
#example
req -new -key ./certs/herdin-rootca.key -out ./certs/herdin-rootca.csr -config ./certs/herdin-rootca.cnf
</code></pre>
<h4 id="root-crt-certificate"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#root-crt-certificate">Root CRT (certificate) 만들기</a></h4>
<pre><code class="language-shell">x509 -req \
  -days 3650 \
  -extensions v3_ca \
  -set_serial 1 \
  -in &lt;ROOT CSR FILE LOCATION&gt; \
  -signkey &lt;ROOT CA PRIVATE KEY FILE LOCATION&gt; \
  -out &lt;ROOT CRT FILE LOCATION&gt; \
  -extfile &lt;CONFIG FILE LOCATION&gt;
#example
x509 -req \
  -days 3650 \
  -extensions v3_ca \
  -set_serial 1 \
  -in ./certs/herdin-rootca.csr \
  -signkey ./certs/herdin-rootca.key \
  -out ./certs/herdin-rootca.crt \
  -extfile ./certs/herdin.cnf
</code></pre>
<p>만들어진 CRT 파일을 확인한다.</p>
<pre><code class="language-shell">x509 -text -in &lt;CRT FILE LOCATION&gt;
#example
x509 -text -in ./certs/herdin-rootca.crt
</code></pre>
<h4 id="_1"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#_1">인증서 만들기</a></h4>
<pre><code class="language-shell">genrsa -aes256 -out &lt;PRIVATE KEY FILE LOCATION&gt; 2048
#example
genrsa -aes256 -out ./certs/herdin.key 2048
</code></pre>
<h4 id="csr-certificate-signing-request"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#csr-certificate-signing-request">CSR (Certificate Signing Request) 만들기</a></h4>
<p>사용될 설정파일 내용</p>
<pre><code>[ req ]
default_bits            = 2048
default_md              = sha1
default_keyfile         = lesstif-rootca.key
distinguished_name      = req_distinguished_name
extensions             = v3_user
## 인증서 요청시에도 extension 이 들어가면 authorityKeyIdentifier 를 찾지 못해 에러가 나므로 막아둔다.
## req_extensions = v3_user

[ v3_user ]
# Extensions to add to a certificate request
basicConstraints = CA:FALSE
authorityKeyIdentifier = keyid,issuer
subjectKeyIdentifier = hash
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
## SSL 용 확장키 필드
extendedKeyUsage = serverAuth,clientAuth
subjectAltName          = @alt_names
[ alt_names]
## Subject AltName의 DNSName field에 SSL Host 의 도메인 이름을 적어준다.
## 멀티 도메인일 경우 *.lesstif.com 처럼 쓸 수 있다.
DNS.1   = local.anmani.link
DNS.2   = anmani.link
DNS.3   = *.anmani.link

[req_distinguished_name ]
countryName                     = Country Name (2 letter code)
countryName_default             = KR
countryName_min                 = 2
countryName_max                 = 2

# 회사명 입력
organizationName              = Organization Name (eg, company)
organizationName_default      = HARM

# 부서 입력
organizationalUnitName          = Organizational Unit Name (eg, section)
organizationalUnitName_default  = harm

# SSL 서비스할 domain 명 입력
commonName                      = Common Name (eg, your name or your server's hostname)
commonName_default             = epu baal
commonName_max                  = 64
</code></pre>
<pre><code class="language-shell">req -new  -key &lt;PRIVATE KEY FILE LOCATION&gt; -out &lt;CSR FILE LOCATION&gt; -config &lt;CONFIG FILE LOCATION&gt;
#example
req -new  -key ./certs/herdin.key -out ./certs/herdin.csr -config ./certs/herdin.cnf
</code></pre>
<h4 id="crt-certificate"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#crt-certificate">CRT (certificate) 만들기</a></h4>
<pre><code class="language-shell">x509 \
  -req \
  -days 1825 \
  -extensions v3_user \
  -in &lt;CSR FILE LOCATION&gt; \
  -CA &lt;ROOT CRT FILE LOCATION&gt; \
  -CAcreateserial \
  -CAkey  &lt;ROOT CA PRIVATE KEY FILE LOCATION&gt; \
  -out &lt;CRT FILE LOCATION&gt; \
  -extfile &lt;CONFIG FILE LOCATIOIN&gt;
#example
-extensions v3_user \
x509 \
  -req \
  -days 1825 \
  -in ./certs/herdin.csr \
  -CA ./certs/herdin-rootca.crt \
  -CAcreateserial \
  -CAkey ./certs/herdin-rootca.key \
  -out ./certs/herdin.crt \
  -extfile ./certs/herdin.cnf
</code></pre>
<p>확인해보자.</p>
<pre><code class="language-shell">x509 -text -in &lt;CRT FILE LOCATION&gt;
#example
x509 -text -in ./certs/herdin.crt
</code></pre>
<h4 id="tomcat"><a class="toclink" href="../../../../2019/10/16/tomcat-%EC%97%90-ssl-%EC%A0%81%EC%9A%A92/#tomcat">Tomcat 에 적용</a></h4>
<p>적용하기 위해 포멧을 변경해주고</p>
<pre><code class="language-shell">pkcs12 -export -in &lt;CRT FILE LOCATION&gt; -inkey &lt;PRIVATE KEY FILE LOCATION&gt; -out &lt;TOMCAT CERT FILE LOCATIOIN&gt; -name tomcat
#example
pkcs12 -export -in ./certs/herdin.crt -inkey ./certs/herdin.key -out ./certs/herdin.keystore -name tomcat
</code></pre>
<p><code>server.xml</code> 에 적용해주자</p>
<pre><code>&lt;Connector
  SSLEnabled=&quot;true&quot;
  clientAuth=&quot;false&quot;
  keystoreFile=&quot;C:\noneedinstall\OpenSSL\bin\certs\herdin.keystore&quot;
  keystorePass=&quot;1235&quot;
  maxThreads=&quot;150&quot;
  port=&quot;8443&quot;
  protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
  scheme=&quot;https&quot;
  secure=&quot;true&quot;
  sslProtocol=&quot;TLS&quot;
/&gt;
</code></pre>
<p>끝!</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-15 00:00:00+00:00">October 15, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="docker-ce"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/">또 Docker CE 설치하기</a></h2>
<p>공짜 <code>GCE instance</code> 가 맛탱이가 가서 다시 하나 파고 <code>Docker</code> 를 설치하려고 하니 또 머가 바뀐것같아서 버벅대는걸 기록으로 남긴다.</p>
<h3 id="amazon-linux-2"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#amazon-linux-2"><code>Amazon Linux 2</code> 버전..</a></h3>
<pre><code class="language-shell">$ amazon-linux-extras install docker
</code></pre>
<p>또는</p>
<pre><code class="language-shell">$ yum install docker
</code></pre>
<p>귀찮아서 설치/유저그룹추가/도커 서비스 시작/부팅 시 서비스 자동시작 을 한번에</p>
<pre><code class="language-shell"># 명령어 실행 후 재로그인 해야함
$ sudo yum install -y docker &amp;&amp; sudo usermod -a -G docker $USER &amp;&amp; sudo systemctl start docker &amp;&amp; sudo systemctl enable docker
</code></pre>
<blockquote>
<p>쉽죠?</p>
</blockquote>
<p>유저를 그룹에 넣는건 마찬가지로 해야한다.</p>
<h3 id="linux"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#linux"><code>linux</code> 버전..</a></h3>
<pre><code class="language-shell">$ cat /etc/*-release | uniq
CentOS Linux release 8.0.1905 (Core)
NAME=&quot;CentOS Linux&quot;
VERSION=&quot;8 (Core)&quot;
ID=&quot;centos&quot;
ID_LIKE=&quot;rhel fedora&quot;
VERSION_ID=&quot;8&quot;
PLATFORM_ID=&quot;platform:el8&quot;
PRETTY_NAME=&quot;CentOS Linux 8 (Core)&quot;
ANSI_COLOR=&quot;0;31&quot;
CPE_NAME=&quot;cpe:/o:centos:centos:8&quot;
HOME_URL=&quot;https://www.centos.org/&quot;
BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;

CENTOS_MANTISBT_PROJECT=&quot;CentOS-8&quot;
CENTOS_MANTISBT_PROJECT_VERSION=&quot;8&quot;
REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;
REDHAT_SUPPORT_PRODUCT_VERSION=&quot;8&quot;

CentOS Linux release 8.0.1905 (Core)
</code></pre>
<blockquote>
<p>메뉴얼 설치를 했다가 잘안되서 이것저것하다가 됐는데, 왜 되는질 몰라서 새로운 instance 에서 다시 설치한다.</p>
</blockquote>
<p>메뉴얼 설치(download the RPM package and install it manually)가 있고 레포지토리를 통한 설치(Install using the repository)가 있는데, 레포지토리를 권장한다고 한다.<br />
권장 방법으로..</p>
<h4 id="_1"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_1">레포지토리 추가</a></h4>
<pre><code class="language-shell">$ sudo yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2

$ sudo yum-config-manager \
      --add-repo \
      https://download.docker.com/linux/centos/docker-ce.repo

</code></pre>
<h4 id="_2"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_2">레포지토리를 통한 설치</a></h4>
<pre><code class="language-shell">$ sudo yum install docker-ce docker-ce-cli containerd.io
</code></pre>
<h4 id="_3"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_3">실행</a></h4>
<pre><code class="language-shell">$ sudo systemctl start docker
$ sudo systemctl enable docker
$ docker ps -a
Got permission denied -while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.40/containers/json?all=1: dial unix /var/run/docker.sock: connect: permission denied
</code></pre>
<p>얼씨구.
현재 <code>user</code> 를 <code>docker group</code> 에 넣어 줘야 한다.</p>
<h4 id="_4"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_4">유저 확인</a></h4>
<pre><code class="language-shell">$ cat /etc/passwd
...
herdin86:x:1000:1001::/home/herdin86:/bin/bash
...
</code></pre>
<h4 id="_5"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_5">그룹 확인</a></h4>
<pre><code class="language-shell">$ cat /etc/group
...
herdin86:x:1001:
docker:x:991:
...
</code></pre>
<h4 id="_6"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_6">그룹에 유저 추가</a></h4>
<pre><code class="language-shell">$ sudo usermod -a -G docker $USER
$ sudo systemctl restart docker
$ exit
</code></pre>
<h4 id="_7"><a class="toclink" href="../../../../2019/10/15/%EB%98%90-docker-ce-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/#_7">실행되는지 확인</a></h4>
<pre><code class="language-shell">$ docker version
Client: Docker Engine - Community
 Version:           19.03.3
 API version:       1.40
 Go version:        go1.12.10
 Git commit:        a872fc2f86
 Built:             Tue Oct  8 00:58:10 2019
 OS/Arch:           linux/amd64
 Experimental:      false

Server: Docker Engine - Community
 Engine:
  Version:          19.03.3
  API version:      1.40 (minimum version 1.12)
  Go version:       go1.12.10
  Git commit:       a872fc2f86
  Built:            Tue Oct  8 00:56:46 2019
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          1.2.6
  GitCommit:        894b81a4b802e4eb2a91d1ce216b8817763c29fb
 runc:
  Version:          1.0.0-rc8
  GitCommit:        425e105d5a03fabd737a126ad93d62a9eeede87f
 docker-init:
  Version:          0.18.0
  GitCommit:        fec3683

$ docker run hello-world
  Unable to find image 'hello-world:latest' locally
  latest: Pulling from library/hello-world
  1b930d010525: Pull complete
  Digest: sha256:c3b4ada4687bbaa170745b3e4dd8ac3f194ca95b2d0518b417fb47e5879d9b5f
  Status: Downloaded newer image for hello-world:latest

  Hello from Docker!
  This message shows that your installation appears to be working correctly.

  To generate this message, Docker took the following steps:
   1. The Docker client contacted the Docker daemon.
   2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
      (amd64)
   3. The Docker daemon created a new container from that image which runs the
      executable that produces the output you are currently reading.
   4. The Docker daemon streamed that output to the Docker client, which sent it
      to your terminal.

  To try something more ambitious, you can run an Ubuntu container with:
   $ docker run -it ubuntu bash

  Share images, automate workflows, and more with a free Docker ID:
   https://hub.docker.com/

  For more examples and ideas, visit:
   https://docs.docker.com/get-started/
</code></pre>
<p>끝.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-10-15 00:00:00+00:00">October 15, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="linux"><a class="toclink" href="../../../../2019/10/15/linux-%EB%B0%B0%ED%8F%AC%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/">Linux 배포버전 확인하기</a></h2>
<blockquote>
<p>역시나 내가 만든 자료는 거이 없기 떄문에 출처를 명시한다.
<a href="https://zetawiki.com/wiki/리눅스_종류_확인,_리눅스_버전_확인">출처</a></p>
</blockquote>
<h4 id="1-grep-etc-release"><a class="toclink" href="../../../../2019/10/15/linux-%EB%B0%B0%ED%8F%AC%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/#1-grep-etc-release">1. <code>grep . /etc/*-release</code></a></h4>
<pre><code class="language-shell">$ grep . /etc/*-release
/etc/centos-release:CentOS Linux release 8.0.1905 (Core)
/etc/os-release:NAME=&quot;CentOS Linux&quot;
/etc/os-release:VERSION=&quot;8 (Core)&quot;
/etc/os-release:ID=&quot;centos&quot;
/etc/os-release:ID_LIKE=&quot;rhel fedora&quot;
/etc/os-release:VERSION_ID=&quot;8&quot;
/etc/os-release:PLATFORM_ID=&quot;platform:el8&quot;
/etc/os-release:PRETTY_NAME=&quot;CentOS Linux 8 (Core)&quot;
/etc/os-release:ANSI_COLOR=&quot;0;31&quot;
/etc/os-release:CPE_NAME=&quot;cpe:/o:centos:centos:8&quot;
/etc/os-release:HOME_URL=&quot;https://www.centos.org/&quot;
/etc/os-release:BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;
/etc/os-release:CENTOS_MANTISBT_PROJECT=&quot;CentOS-8&quot;
/etc/os-release:CENTOS_MANTISBT_PROJECT_VERSION=&quot;8&quot;
/etc/os-release:REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;
/etc/os-release:REDHAT_SUPPORT_PRODUCT_VERSION=&quot;8&quot;
/etc/redhat-release:CentOS Linux release 8.0.1905 (Core)
/etc/system-release:CentOS Linux release 8.0.1905 (Core)
</code></pre>
<h4 id="2-cat-etc-release-uniq"><a class="toclink" href="../../../../2019/10/15/linux-%EB%B0%B0%ED%8F%AC%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/#2-cat-etc-release-uniq">2. <code>cat /etc/*-release | uniq</code></a></h4>
<pre><code class="language-shell">$ cat /etc/*-release | uniq
CentOS Linux release 8.0.1905 (Core)
NAME=&quot;CentOS Linux&quot;
VERSION=&quot;8 (Core)&quot;
ID=&quot;centos&quot;
ID_LIKE=&quot;rhel fedora&quot;
VERSION_ID=&quot;8&quot;
PLATFORM_ID=&quot;platform:el8&quot;
PRETTY_NAME=&quot;CentOS Linux 8 (Core)&quot;
ANSI_COLOR=&quot;0;31&quot;
CPE_NAME=&quot;cpe:/o:centos:centos:8&quot;
HOME_URL=&quot;https://www.centos.org/&quot;
BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;

CENTOS_MANTISBT_PROJECT=&quot;CentOS-8&quot;
CENTOS_MANTISBT_PROJECT_VERSION=&quot;8&quot;
REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;
REDHAT_SUPPORT_PRODUCT_VERSION=&quot;8&quot;

CentOS Linux release 8.0.1905 (Core)
</code></pre>
<h4 id="3-grep-etcissue"><a class="toclink" href="../../../../2019/10/15/linux-%EB%B0%B0%ED%8F%AC%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/#3-grep-etcissue">3. <code>grep . /etc/issue*</code></a></h4>
<blockquote>
<p>이건 centos 랑 안맞나?</p>
</blockquote>
<pre><code class="language-shell">$ grep . /etc/issue*
/etc/issue:\S
/etc/issue:Kernel \r on an \m
/etc/issue.net:\S
/etc/issue.net:Kernel \r on an \m
</code></pre>
<h4 id="rpm-qa-release"><a class="toclink" href="../../../../2019/10/15/linux-%EB%B0%B0%ED%8F%AC%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/#rpm-qa-release"><code>rpm -qa *-release</code></a></h4>
<pre><code class="language-shell">$ rpm -qa *-release
centos-release-8.0-0.1905.0.9.el8.x86_64
</code></pre>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__current">2</span> <a class="md-pagination__link" href="../3/">3</a> <a class="md-pagination__link" href="../4/">4</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../8/">8</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": [], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": {"Compatibility": "compat", "rabbitmq": "rabbitmq"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  </body>
</html>